# `MariaDB`数据库测试说明

## 测试环境

`Ubuntu 20.04` | `MariaDB 10.5.22` | `unixODBC 2.3.6`

## 数据库简介

`MariaDB` 是一个开源的关系数据库管理系统（`RDBMS`），由 `MySQL` 的原始开发者创建，作为 `MySQL` 的一个分支。`MariaDB` 的创建是为了保持开放源代码的自由性，这是由于 Oracle 公司收购了 `MySQL` 的母公司 `Sun Microsystems`。`MariaDB` 的开发目标是与 `MySQL` 数据库完全兼容，保证开源性，以及保持开放和透明的开发模式。

`MariaDB` 设计上对 `MySQL` 有很高的兼容性，它能够直接替换 `MySQL`，且大多数 `MySQL` 代码、表和`API`等在 `MariaDB` 中都可以直接使用。`MariaDB` 支持多种存储引擎，包括 `InnoDB`、`MyRocks`、`Aria`等，以满足不同用途的需求。`MariaDB` 提供了一系列的扩展功能，如分区表、虚拟列、联合引擎等。同时，它还支持线性水平扩展，以支持更大的数据集和更高的查询负载。`MariaDB` 提供了适用于多种云平台的解决方案，支持容器化部署，例如在 `Kubernetes` 上运行。

## 隔离级别

`MariaDB`支持多种事务隔离级别，这些隔离级别决定了多个并发事务如何交互以及在读取数据时可能会看到哪些数据，以下是 `MariaDB` 支持的隔离级别：

- **`READ UNCOMMITTED`** (读未提交)：一个事务可以读取其他未提交事务的修改。这是隔离级别中最低的一种，也是最少使用的一种，因为它可能会导致许多并发问题，如脏读（读取到其他事务未提交的更改）。
- **`READ COMMITTED`** (读已提交)：一个事务只能读取已经提交的其他事务的修改。这意味着它不会看到其他并发事务所做的未提交的更改。这是许多数据库系统的默认隔离级别。
- **`REPEATABLE READ`** (可重复读)：这是 `MariaDB`的默认隔离级别。在此隔离级别下，事务在开始时锁定其读取的所有数据行，确保这些行在事务结束之前不会被其他事务修改。这样，一个事务在其生命周期内多次读取同一行数据时，总是看到相同的信息。
- **`SERIALIZABLE`** (串行化)：这是隔离级别中最高的一种。在此隔离级别下，事务被执行得就像是序列化的，即一个接一个地执行，没有并发。这意味着在一个事务运行时，其他事务不能并发地访问相同的数据。

在选择隔离级别时，通常需要在性能和数据的准确性/一致性之间进行权衡。更高的隔离级别通常提供更好的数据一致性保证，但可能降低并发性能。

## 实际测试说明

由于`MariaDB`和`MySQL`渊源颇深，因此`SQL`语法类似，代码基本无需改动，最终在4种隔离级别，33种数据异常上的结果`MariaDB 10.5.22`也和`MySQL 8.0.20`基本相同。
